[general]
_version={{MFMODULE_VERSION}}
_summary=amqp plugin listener
_license=BSD
_url=http://metwork-framework.org
_maintainer=Joel BARTHEZ <joel.barthez@meteo.fr>
_vendor=MetWork

[extra_daemon_amqp_consumer]
_cmd_and_args = extra_daemon_amqp_consumer_{{MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_MODE}}.py --broker-hostname={{MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_BROKER_HOSTNAME}} --broker-port={{MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_BROKER_PORT}} --dest-dir={{MFDATA_DATA_IN_DIR}}/incoming --credential-user={{MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_CREDENTIAL_USER}} --credential-password={{MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_CREDENTIAL_PASSWORD}} --subscription-exchange={{MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_SUBSCRIPTION_EXCHANGE}} {% if MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_MODE == "fanout" %}--subscription-queue={{MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_SUBSCRIPTION_QUEUE}}{% else %}--subscription-routing-topic_keys={{MFDATA_INTERNAL_PLUGINS_AMQP_CONSUMER_ROUTING_TOPIC_KEYS}}{% endif %}
numprocesses = 1
