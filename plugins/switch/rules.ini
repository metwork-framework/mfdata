# This file is made of "rules blocks":
#   [rules:{rule_type}:{rule_param1,rule_param2}]
#
# Each "rules block" defined a rule type and some rule parameters.
# Under a "rules block" you can have one or several "switch rules".
#
# A "rule switch" is a line like:
#   pattern => plugin_name1/step_name1, plugin_name2/step_name2*
#
# So, for a given pattern, you can have one or several copy actions (separated
# by coma). Each action means copy (or hardlink) the incoming file to the
# given plugin/step.
#
# (if a step name ends with a "*", it means that we can use hardlinking instead
#  of copying => it's better for performances but target step must not alter
#  the incoming file in any way so please DO NOT ADD THE STAR SIGN IF YOU ARE
#  NOT SURE)
#
# All "rule switch" are evaluated in the context of their "rule block". If
# the pattern match (in this context), collected actions are appended.
#
# Examples:
#
# [rules:fnmatch:first.core.original_basename]
# A* => plugin1/step1*, plugin2/step2
# B* => plugin2/step1
#
# [rules:regex:first.core.original_dirname]
# .foo$ => plugin3/step3
#
# [rules:fnmatch:first.core.original_basename]
# AS* => plugin4/step4
#
# With this example, a file with following attributes:
# - first.core.original_basename = ABC
# - first.core.original_dirname = bar.foo
#
# will be:
# - hardlinked to plugin1/step1 (because A* fnmatch rule matches on first.core.original_basename)
# - copied to plugin2/step2 (because A* fnmatch rule ...)
# - copied to plugin3/step3 (because .foo$ regex rule matches on first.core.original_dirname)
#
# Still with the same rules set, a file with following attributes:
# - first.core.original_basename = AS9
# - first.core.original_dirname = foo
#
# will be:
# - hardlinked to plugin1/step1 (because A* fnmatch rule matches on first.core.original_basename)
# - copied to plugin2/step2 (because A* fnmatch rule ...)
# - copied to plugin4/step4 (because AS* fnmatch rule ...)
#
#
# Notes:
# - it there is no match, the "no match" policy will be applied (delete by default)
# - it there are several actions targetting the same plugin/step because of multiple rules,
#   only one copy/hardlink will be done toward this plugin/step
